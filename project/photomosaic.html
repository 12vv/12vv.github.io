<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Photographic Mosaic · Jay's Blog</title><meta name="description" content="Photographic Mosaic - Jaythan"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://12vv.github.io/atom.xml" title="Jay's Blog"><link rel="alternate" href="/atom.xml" title="Jay's Blog" type="application/atom+xml">
<!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://jay-ye.vercel.app/" target="_blank" class="nav-list-link">PORTFOLIO</a></li><li class="nav-list-item"><a href="https://github.com/12vv" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Photographic Mosaic</h1><div class="post-info">Jun 10, 2021</div><div class="post-content"><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Cartwright (2007) p.102 quote: <a href="https://en.wikipedia.org/wiki/Photographic_mosaic" target="_blank" rel="noopener">Photographic mosaic</a>, also known as Photomosaic, a portmanteau of photo and mosaic, is a picture that is divided into small sections. When viewed as a whole, it appears to be one image, when in fact the image is made up of hundreds or even thousands of smaller images.</p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h3 id="Credit"><a href="#Credit" class="headerlink" title="Credit"></a>Credit</h3><p>This project is inspired by one of <a href="https://robertheaton.com/2018/11/03/programming-project-4-photomosaics/" target="_blank" rel="noopener">ROBERT HEATON’s articles</a>. It explained in details of how to complete the program, and provided some <a href="https://github.com/robert/photomosaic" target="_blank" rel="noopener">example codes</a> wrote in <code>Python</code>. I used the source images from his <a href="https://github.com/robert/photomosaic/tree/master/example_square_images" target="_blank" rel="noopener">repo</a>.</p>
<h3 id="Develope-environment"><a href="#Develope-environment" class="headerlink" title="Develope environment"></a>Develope environment</h3><p>As a practice, I finished this project using <code>C++</code> and <code>OpenCV</code> library.</p>
<ul>
<li><strong>OpenCV</strong> 4.4.0</li>
<li><strong>Apple clang</strong> version 12.0.0</li>
<li><strong>XCode</strong> 12</li>
</ul>
<h2 id="Final-results"><a href="#Final-results" class="headerlink" title="Final results"></a>Final results</h2><p><img src="/images/projects/mosaic2.png" alt="Vincent van Gogh"></p>
<p>The mosaic result of the self-portrait of Vincent van Gogh looks greeny because the source square images I took from the repo, which are the composition of the big image, are all related to flowers. Because there are only 32 source images, so there are lots of duplicates when composing the big image.</p>
<p><img src="/images/projects/ssfolder.png" alt="Source image samples"></p>
<p>I did another experiment in this <a href="https://www.flyingflowers.co.uk/page/flower_names_and_origins" target="_blank" rel="noopener">flower picture</a>.</p>
<p><img src="/images/projects/mosaic3.png" alt="Source image samples"></p>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><p>There are some functions provided by the OpenCV library that can help in the series of processes.</p>
<p>The first step is to divided the origin image into desired grid.</p>
<p><img src="/images/projects/mosaic_step1and2.png" alt="Pixelation"></p>
<p>Then, calculate the average color of each grid, and choose an image from source which have the least different than the grid.</p>
<p>OpenCV provides </p>
<p>calculate differences</p>
<p><a href="https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html#absdiff" target="_blank" rel="noopener">absdiff</a> in OpenCV library can be used to calculates the per-element absolute difference between two arrays or between an array and a scalar.</p>
<p>resize source image and replace</p>
<p><img src="/images/projects/mosaic_step2_1.png" alt="Replacement process with 10x10 grid size"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><p><a href="https://en.wikipedia.org/wiki/Photographic_mosaic" target="_blank" rel="noopener">Photographic mosaic on Wiki</a></p>
</li>
<li><p><a href="https://robertheaton.com/2018/11/03/programming-project-4-photomosaics/" target="_blank" rel="noopener">Programming Projects for Advanced Beginners #4: Photomosaics</a></p>
</li>
</ol>
</div></article></div></main><footer><div class="paginator"></div><div class="copyright"><p>© 2018 - 2021 <a href="https://12vv.github.io">Jaythan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>