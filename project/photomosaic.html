<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Photographic Mosaic | Jay&#39;s Blog</title>

  
  <meta name="author" content="Jaythan">
  

  
  <meta name="description" content="Do not go into that gentle night.">
  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Photographic Mosaic">

  <meta property="og:site_name" content="Jay&#39;s Blog">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Jay&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>


<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Jay&#39;s Blog</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/categories">Categories</a></li>
      
        <li><a href="/tags">Tags</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Photographic Mosaic</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/project/photomosaic.html" rel="bookmark">
        <time class="entry-date published" datetime="2021-06-11T03:05:04.000Z">
          2021-06-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Cartwright (2007) p.102 quote: <a href="https://en.wikipedia.org/wiki/Photographic_mosaic" target="_blank" rel="noopener">Photographic mosaic</a>, also known as Photomosaic, a portmanteau of photo and mosaic, is a picture that is divided into small sections. When viewed as a whole, it appears to be one image, when in fact the image is made up of hundreds or even thousands of smaller images.</p>
<h3 id="Credit"><a href="#Credit" class="headerlink" title="Credit"></a>Credit</h3><p>This project is inspired by one of <a href="https://robertheaton.com/2018/11/03/programming-project-4-photomosaics/" target="_blank" rel="noopener">ROBERT HEATONâ€™s articles</a>. It explained in details of how to complete the program, and provided some <a href="https://github.com/robert/photomosaic" target="_blank" rel="noopener">example codes</a> wrote in <code>Python</code>. I used the source images from his <a href="https://github.com/robert/photomosaic/tree/master/example_square_images" target="_blank" rel="noopener">repo</a>.</p>
<h3 id="Develope-environment"><a href="#Develope-environment" class="headerlink" title="Develope environment"></a>Develope environment</h3><p>As a practice, I finished this project using <code>C++</code> and <code>OpenCV</code> library.</p>
<ul>
<li><strong>OpenCV</strong> 4.4.0</li>
<li><strong>Apple clang</strong> version 12.0.0</li>
<li><strong>XCode</strong> 12</li>
</ul>
<h2 id="Final-results"><a href="#Final-results" class="headerlink" title="Final results"></a>Final results</h2><p><img src="/images/projects/mosaic2.png" alt="Vincent van Gogh"></p>
<p>The mosaic result of the self-portrait of Vincent van Gogh looks greeny because the source square images I took from the repo, which are the composition of the big image, are all related to flowers. Because there are only 32 source images, so there are lots of duplicates when composing the big image.</p>
<p><img src="/images/projects/ssfolder.png" alt="Source image samples"></p>
<p>I did another experiment in this <a href="https://www.flyingflowers.co.uk/page/flower_names_and_origins" target="_blank" rel="noopener">flower picture</a>.</p>
<p><img src="/images/projects/mosaic3.png" alt="Source image samples"></p>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><p>There are some functions provided by the OpenCV library that can help in the series of processes.</p>
<p>The first step is to divided the origin image into desired grid.</p>
<p><img src="/images/projects/mosaic_step1and2.png" alt="Pixelation"></p>
<p>Then, calculate the average color of each grid, and choose an image from source which have the least different than the grid.</p>
<p>OpenCV provides </p>
<p>calculate differences</p>
<p><a href="https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html#absdiff" target="_blank" rel="noopener">absdiff</a> in OpenCV library can be used to calculates the per-element absolute difference between two arrays or between an array and a scalar.</p>
<p>resize source image and replace</p>
<p><img src="/images/projects/mosaic_step2_1.png" alt="Replacement process with 10x10 grid size"></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><p><a href="https://en.wikipedia.org/wiki/Photographic_mosaic" target="_blank" rel="noopener">Photographic mosaic on Wiki</a></p>
</li>
<li><p><a href="https://robertheaton.com/2018/11/03/programming-project-4-photomosaics/" target="_blank" rel="noopener">Programming Projects for Advanced Beginners #4: Photomosaics</a></p>
</li>
</ol>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    <br>
    
    &copy; 2021 Jaythan
    
  </p>
</footer>
    
    
  </div>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>